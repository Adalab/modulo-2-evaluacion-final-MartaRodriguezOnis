"use strict";const searchInput=document.querySelector(".js_searchInput"),searchButton=document.querySelector(".js_searchButton"),resetButton=document.querySelector(".js_resetButton"),resultUl=document.querySelector(".js_resultUl"),favouritetUl=document.querySelector(".js_favouritetUl");let data=[],favourites=[];const renderAnimeFav=()=>{let e="";for(const t of favourites)e+=`<li class="js_liAnime" id="${t.mal_id}">`,e+=`<img src="${t.images.jpg.image_url}" alt="Imagen del anime ${t.title}">`,e+=`<h2>${t.title}</h2>`,e+="</li>";favouritetUl.innerHTML=e,listenerAnime()};function handleClickFav(e){const t=parseInt(e.currentTarget.id);console.log("idSElect current target id: "+e.currentTarget.id),console.log("data : "+data);const n=data.find(e=>e.mal_id===t),i=favourites.findIndex(e=>e.mal_id===t);-1===i?favourites.push(n):favourites.splice(i,1),console.log("favoritos : "+favourites),renderAnimeFav()}const listenerAnime=()=>{const e=document.querySelectorAll(".js_liAnime");for(const t of e)t.addEventListener("click",handleClickFav)},renderAnimeResult=()=>{let e="";for(const t of data)e+=`<li class="js_liAnime" id="${t.mal_id}">`,"https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png"!==t.images.jpg.image_url?e+=`<img src="${t.images.jpg.image_url}" alt="Imagen del anime ${t.title}">`:e+='<img src="https://via.placeholder.com/200x200/ffffff/666666/?text=SIN IMAGEN" alt="No hay imagen disponible">',e+=`<h2>${t.title}</h2>`,e+="</li>",console.log(typeof t.mal_id);resultUl.innerHTML=e,listenerAnime()};function handleClick(e){e.preventDefault();const t=searchInput.value;fetch("https://api.jikan.moe/v4/anime?q="+t).then(e=>e.json()).then(e=>{data=e.data,console.log(data),renderAnimeResult()})}searchButton.addEventListener("click",handleClick);